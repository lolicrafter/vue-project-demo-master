<template>
  <div class="ov-container">
    <el-tree :data="data" :props="defaultProps">
      <span
        class="custom-tree-node"
        slot-scope="{ node, data }"
        @click="showInfo(node, data)"
      >
        <i v-if="node.level == 1" class="province" />
        <i v-else-if="node.level == 2" class="city" />
        <i v-else-if="node.level == 3" class="data" />
        <i
          v-if="data.children.length !== 0"
          :class="node.expanded ? 'el-icon-remove' : 'el-icon-circle-plus'"
        />
        <i v-else class="el-icon-user-solid" />
        {{ data.label }}
      </span>
    </el-tree>
    <div
      class="test"
      @dblclick="dbClickEvent()"
      @click.right="rightEvent(friend)"
    >
      æµ‹è¯•
    </div>
    <div class="right" v-right-click:[{id:19,bookid:1024}]="rightMenuObj">
      <h1>æµ‹è¯•å³ç®­</h1>
    </div>
  </div>
</template>

<script>
export default {
  name: 'index',
  data () {
    return {
      defaultProps: {
        children: 'children',
        label: 'label'
      },
      data: [
        {
          label: 'ä¸€çº§ 1',
          children: [
            {
              label: 'äºŒçº§ 1-1',
              children: [
                {
                  label: 'ä¸‰çº§ 1-1-1'
                }
              ]
            }
          ]
        },
        {
          label: 'ä¸€çº§ 2',
          children: [
            {
              label: 'äºŒçº§ 2-1',
              children: [
                {
                  label: 'ä¸‰çº§ 2-1-1'
                }
              ]
            },
            {
              label: 'äºŒçº§ 2-2',
              children: [
                {
                  label: 'ä¸‰çº§ 2-2-1'
                }
              ]
            }
          ]
        },
        {
          label: 'ä¸€çº§ 3',
          children: [
            {
              label: 'äºŒçº§ 3-1',
              children: [
                {
                  label: 'ä¸‰çº§ 3-1-1'
                }
              ]
            },
            {
              label: 'äºŒçº§ 3-2',
              children: [
                {
                  label: 'ä¸‰çº§ 3-2-1'
                }
              ]
            }
          ]
        },
        {
          label: 'ä¸€çº§ 4',
          children: [
            {
              label: 'ä¸‰çº§ 3-2-1'
            }
          ]
        },
        {
          label: 'ä¸€çº§ 4'
        }
      ]
    }
  },
  computed: {
    rightMenuObj () {
      // å³é”®èœå•å¯¹è±¡ï¼Œèœå•å†…å®¹å’Œå¤„ç†äº‹ä»¶
      const obj = {
        this: this,
        text: [
          'æŸ¥çœ‹èµ„æ–™',
          // { content: 'å¤åˆ¶ç”¨æˆ·id', status: false },
          'å¤åˆ¶ç”¨æˆ·id',
          'ç§»é™¤è¯¥ä¼šè¯',
          'åœ¨è”ç³»äººä¸­æŸ¥çœ‹',
          'åœ¨å•èŠçª—å£ä¸­æ‰“å¼€',
          'ä¼šè¯ç½®é¡¶'
        ],
        handler: {
          checkingData (parameter) {
            console.log(parameter)
            console.log('æŸ¥çœ‹èµ„æ–™ç‚¹å‡»äº‹ä»¶')
          },
          copyId (parameter) {
            console.log('å¤åˆ¶ç”¨æˆ·idç‚¹å‡»äº‹ä»¶', parameter)
          },
          // copyId2 (parameter) {
          //   console.log('2å¤åˆ¶ç”¨æˆ·idç‚¹å‡»äº‹ä»¶', parameter)
          // },
          removeItem () {
            console.log('ç§»é™¤ä¼šè¯ç‚¹å‡»äº‹ä»¶')
          },
          showContact () {
            console.log('åœ¨è”ç³»äººä¸­æŸ¥çœ‹')
          },
          showSingleChat () {
            console.log('åœ¨å•èŠçª—å£ä¸­æ‰“å¼€')
          },
          topConversation () {
            console.log('ä¼šè¯ç½®é¡¶')
          }
        }
      }
      return obj
    }
  },
  methods: {
    // é¼ æ ‡å³é”®
    rightEvent (friend) {
      console.log('ç‚¹å‡»å³é”®')
      this.$message({
        message: 'æ­å–œä½ ï¼Œè¿™æ˜¯ä¸€æ¡ç‚¹å‡»å³é”®',
        type: 'success'
      })
    },
    dbClickEvent () {
      this.$message({
        message: 'æ­å–œä½ ï¼Œè¿™æ˜¯ä¸€æ¡dbClickEvent',
        type: 'success'
      })
    },
    showInfo (node, data) {
      console.log('nodeç»“æœğŸ˜€ğŸ˜€ğŸ˜€===>', node)
      console.log('dataç»“æœğŸ˜€ğŸ˜€ğŸ˜€===>', data)
    }
  }
}
</script>

<style scoped lang="scss">
.ov-container {
  height: calc(100vh - 80px);
  background: #ffffff;
  border-radius: 5px;
  margin: 10px;
}

.province {
  background: url("https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/img/default.640d9a7.png");
  width: 17px;
  height: 14px;
  display: inline-block;
  background-size: 100% 100%;
}

.city {
  background: url("https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg")
    no-repeat;
  width: 17px;
  height: 14px;
  display: inline-block;
  background-size: 100% 100%;
}

.line {
  background: url("https://cube.elemecdn.com/6/94/4d3ea53c084bad6931a56d5158a48jpeg.jpeg")
    no-repeat;
  background-size: 100%;

  width: 17px;
  height: 14px;
  display: inline-block;
}

.data {
  background: url("https://fuss10.elemecdn.com/a/3f/3302e58f9a181d2509f3dc0fa68b0jpeg.jpeg")
    no-repeat;
  background-size: 100%;

  width: 17px;
  height: 14px;
  display: inline-block;
}

.el-tree ::v-deep .el-tree-node__expand-icon.expanded {
  -webkit-transform: rotate(0deg);
  transform: rotate(0deg);
}
//æœ‰å­èŠ‚ç‚¹ ä¸”æœªå±•å¼€
.el-tree ::v-deep .el-icon-caret-right:before {
  //   background: url("../../assets/logo.png") no-repeat 0 0;
  content: "âˆš";
  display: block;
  width: 12px;
  height: 12px;
  font-size: 16px;
  background-size: 100% 100%;
}
//æœ‰å­èŠ‚ç‚¹ ä¸”å·²å±•å¼€
.el-tree
  ::v-deep
  .el-tree-node__expand-icon.expanded.el-icon-caret-right:before {
  //   background: url("../../assets/logo.png") no-repeat 0 0;
  content: "x";
  display: block;
  width: 12px;
  height: 12px;
  font-size: 12px;
  background-size: 100% 100%;
}
//æ²¡æœ‰å­èŠ‚ç‚¹
.el-tree ::v-deep .el-tree-node__expand-icon.is-leaf::before {
  //    background: url("../../assets/logo.png") no-repeat 0 0;
  content: "";
  display: block;
  width: 12px;
  height: 12px;
  font-size: 16px;
  background-size: 100% 100%;
}
</style>
